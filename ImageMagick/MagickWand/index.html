<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<meta name="GENERATOR" content="PageBreeze Free HTML Editor (http://www.pagebreeze.com)">
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" >
<meta name="keywords" content="ImageMagick, convert, MagickWand,C programming, example">
<title>MagickWand Examples in C</title>

<style>
<!--
h1 { font-family: Arial, sans-serif; font-size: 30px; color: #000080;}
h2 { font-family: Arial, sans-serif; font-size: 18px; color: #004080;}
h3 { font-family: Arial, sans-serif; font-size: 16px; color: #004080;}
li { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold;}

body,b,i,em,dt,dd,dl,sl,caption,th,td,tr,u,blink,select,option,form,div,


/* IE Specific */
body, textarea {
  scrollbar-3dlight-color: #808080;
  scrollbar-highlight-color: #808080;
  scrollbar-face-color: #004080;
  scrollbar-shadow-color: #808080;
  scrollbar-darkshadow-color: #805B32;
  scrollbar-arrow-color: #000000;
  scrollbar-track-color: #F8EFE2;
}
/* END IE Specific */
-->
</style>

</head>
<body bgcolor="#ffffff" >
<p>
<table cellspacing="1" cellpadding="3" width="800" align="center" bgcolor="#004080" 
border="0">
  
  <tr>
    <td>&nbsp;
    </td>
  </tr>
  <tr>
    <td bgcolor="#ffffff">
      <p align="center">&nbsp;</p>
      <h1 align="center"> MagickWand Examples in C</h1>

      <p align="left">The programs on these pages show how to use the ImageMagick
      	MagickWand API. Each example is presented as a C 
      function, complete with headers, so that it can be copied to a file and 
      then included in your own C project. The code is written for Windows and was
      compiled using MSVC V7 but, with a little tweaking, it should
      also run on Linux.</p>
      <p align="left">Some of the examples show a command line "program" and how to achieve the equivalent output using MagickWand.
      By "equivalent" I mean that the program produces the 
      same image as the command line example - it won't necessarily be exactly how it is achieved by the convert program.
      In some cases there is only one command line 
      example to replicate but in others there can be 3 or 4 commands which 
      build on each other to produce a final result. In most of these cases I 
      have created one C function which replicates all the commands but each 
      section of code will show how it relates to the original commands. 
      </p>
      <p align="left">       
       There is little or no error checking in the examples but
      you should add your own where needed. For example, the MagickReadImage
      function returns a true or false value depending upon whether the read succeeded and 
      you should check this using code similar to this:</p>
      <blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
      <p align="left">&nbsp;if(MagickReadImage(mw,"logo_gel.png") == 
        MagickFalse) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Handle 
        the error<br>&nbsp;}</p></blockquote>
      <p align="left">You should note that there are a lot of 
      MagickWand functions which are declared as returning a boolean result 
      but which will 
      always return MagickTrue and are therefore not worth checking. 
      This is particularly true with the DrawingWand commands.
      For example, even if DrawSetFont 
      doesn't find the font you specify, it will return MagickTrue because it will set 
      the font to your default system font.</p>



      <p align="left">If you haven't used MagickWand 
      before, you should start with something easy such as this:
      <br><FONT "SIZE=4"><br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!logo_1.c!C --> <a href="logo_1.htm">logo_1.c</a>&nbsp;&nbsp;&nbsp;&nbsp;
      	A simple starter. Convert the builtin logo: image to JPG.</FONT</p>
      <p align="left">
      It is easy to see that to make this convert 
      one of your own input files to another format you just replace "logo:" 
      with your input filename and replace "logo.jpg" with whatever output filename you 
      wish.</p>
      <p align="left">The MagickReadImage function is very versatile. It will 
      accept a website URL which links to an image somewhere on the internet or 
      it can generate a plain coloured canvas using the "xc:" filename 
      convention. E.G. "xc:red" will create a red canvas and "xc:none" will 
      create a transparent canvas. If you use the "xc:" format you will usually 
      precede the read function with a call to MagickSetSize otherwise you will 
      get a 1x1 pixel image. It is worthwhile to read the "pseudo Image" and "Built-in Images" sections near the bottom of the
      	<a href="http://imagemagick.org/script/formats.php">ImageMagick Formats</a> page to see what other pseudo files are available.</p>
      <p align="left">
      Just in case you are deciding whether to use MagickCore instead of MagickWand, first
      look at the simple example I showed in the previous paragraph and then look at
      the equivalent written for MagickCore:
      <br><FONT "SIZE=4"><br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!MagickCore.c!C --> <a href="MagickCore.htm">MagickCore.c</a>&nbsp;&nbsp;&nbsp;&nbsp;
      	The simple starter program written for MagickCore.</FONT></p>
  <p align="left"> I think you'll 
      agree that even in this simple example, the MagickWand version is much easier to
      read and write. 
      </p>

      <p align="left" style="FONT-SIZE: 150%; COLOR: red">All of this code is provided AS IS with NO warranty or guarantee of any kind</p>
      <p align="left" style="FONT-SIZE: 120%; COLOR: black">Each image is shown on a gray background to show transparent images better </p>
      <p align="left" style="FONT-SIZE: 120%; COLOR: black">Here's an <a href="code_index.htm">INDEX</a> of the MagickWand functions used in each example</p>      
 
 <!--
 <TABLE ALIGN="CENTER" CELLPADDING="2">
 <TR>
 <TD>Resize an image to 50% using a Lanczos filter and save as high-quality JPG</TD>
 	</TR>
 	<TR>
 		<TD><a href="resize.htm">resize.c</a>
 	</TD>
 </TR>
 </TABLE>
-->
      <p  align="left" style="FONT-SIZE: 120%; COLOR: red">Resize an image to 50% using a Lanczos filter and save as high-quality JPG
			<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!resize.c!C --> <a href="resize.htm">resize.c</a>
			<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_resize.jpg!I --> <a href="logo_resize.htm">Image</a>



      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Extend the canvas around an image.
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!extent.c!C --> <a href="extent.htm">extent.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_extent.jpg!I --> <a href="logo_extent.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Simple floodfill to change an image's white background to transparent.
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!floodfill.c!C --> <a href="floodfill.htm">floodfill.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_paintflood.png!I --> <a href="logo_paintflood.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Slightly more complex floodfill (similar to third example in <a href="http://www.imagemagick.org/Usage/masking/#floodfill">Masking Simple Backgrounds</a>)
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!cyclops.c!C --> <a href="cyclops.htm">cyclops.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!cyclops_sm_flood.png!I --> <a href="cyclops_sm_flood.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Using a <a href="http://www.imagemagick.org/Usage/channels/#masked_compose">Clip Mask</a> to Limit the Composed Area
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!clipmask.c!C --> <a href="clipmask.htm">clipmask.c</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Change *all* white pixels to be transparent - we also get the wizard's beard!.
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!trans_paint.c!C --> <a href="trans_paint.htm">trans_paint.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_transpaint.png!I --> <a href="logo_transpaint.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Draw shapes: circle, polygon, rounded rectangle, rotated and translated ellipse, line
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!draw_shapes.c!C --> <a href="draw_shapes.htm">draw_shapes.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!chart_test.jpg!I --> <a href="chart_test.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Eight text effects in one function
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!text_effects.c!C --> <a href="text_effects.htm">text_effects.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!text_shadow.png!I --> <a href="text_shadow.htm">Shadow</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!text_pattern.png!I --> <a href="text_pattern.htm">Pattern</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!text_arc.png!I --> <a href="text_arc.htm">Arc</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!text_bevel.png!I --> <a href="text_bevel.htm">Bevel</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!text_plain.png!I --> <a href="text_plain.htm">Plain</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!text_barrel.png!I --> <a href="text_barrel.htm">Barrel</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!text_polar.png!I --> <a href="text_polar.htm">Polar</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!text_shepards.png!I --> <a href="text_shepards.htm">Shepards</a>
 
      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Fun with fontmetrics!
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!fontmetrics.c!C --> <a href="fontmetrics.htm">fontmetrics.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!metric1.gif!I --> <a href="metric1.htm">Image</a>
 
      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Create rounded rectangle mask similar to the <a href="http://www.imagemagick.org/Usage/thumbnails/#rounded_border">ROUNDED BORDERS</a> example.
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!round_mask.c!C --> <a href="round_mask.htm">round_mask.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!mask_result.png!I --> <a href="mask_result.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Create a tileable image from an input image.
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!make_tile.c!C --> <a href="make_tile.htm">make_tile.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!tile_plasma.png!I --> <a href="tile_plasma.htm">Plasma</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!tile_random.png!I --> <a href="tile_random.htm">Random</a>
                    
      <p align="left" style="FONT-SIZE: 120%; COLOR: red">The <a href="http://www.imagemagick.org/Usage/advanced/#3d-logos-2">
    	Better 3-D Logo Generation</a> Example
        <br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!3dlogo.c!C --> <a href="3dlogo.htm">3dlogo.c</a>
    	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_shadow_3D.png!I --> <a href="logo_shadow_3D.htm">Shadow</a>
    	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_bg_3D.jpg!I --> <a href="logo_bg_3D.htm">Background</a>
 
      <p align="left" style="FONT-SIZE: 120%; COLOR: red">The <a href="http://www.imagemagick.org/Usage/advanced/#gel_effects">
      	"Gel" Effects</a> Example
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!gel.c!C --> <a href="gel.htm">gel.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!gel_button.png!I --> <a href="gel_button.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Add a reflection below an image - fade the reflection to transparent using CopyOpacity.
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!reflect.c!C --> <a href="reflect.htm">reflect.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_reflect.png!I --> <a href="logo_reflect.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Four examples of using MagickDistortImage to do affine transformations
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!affine.c!C --> <a href="affine.htm">affine.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_affine_1.jpg!I --> <a href="logo_affine_1.htm">Image</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_affine_2.jpg!I --> <a href="logo_affine_2.htm">Image</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_affine_3.jpg!I --> <a href="logo_affine_3.htm">Image</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!rotgrad_2.png!I --> <a href="rotgrad_2.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Using PixelIterators to create a grayscale gradient   
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!grayscale.c!C --> <a href="grayscale.htm">grayscale.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!bits_demo.gif!I --> <a href="bits_demo.htm">Image</a>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Using PixelIterators to read and create images and also do HSL/HSB colourspace conversion   
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!modulate.c!C --> <a href="modulate.htm">modulate.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_hsl.jpg!I --> <a href="logo_hsl.htm">Image</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_hsb.jpg!I --> <a href="logo_hsb.htm">Image</a>

      </p>
      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Convert a 2D image to pseudo-3D   
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!landscape_3d.c!C --> <a href="landscape_3d.htm">landscape_3d.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!3d_fractal.jpg!I --> <a href="3d_fractal.htm">Image</a>
      </p>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Anthony's tilt-shift example   
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!tilt_shift.c!C --> <a href="tilt_shift.htm">tilt_shift.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!beijing_md.jpg!I --> <a href="beijing_md.htm">Input Image</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!beijing_model.jpg!I --> <a href="beijing_model.htm">Output Image</a>
      </p>

      </p>
<!-- NOTE THAT source code and image files CAN'T HAVE THE SAME ROOTNAME!! -->
      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Change the colour of one pixel in the logo: built-in image
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!pixel_mod.c!C --> <a href="pixel_mod.htm">pixel_mod.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!logo_pixel.gif!I --> <a href="logo_pixel.htm">logo_pixel.gif</a>
      </p>

      <p align="left" style="FONT-SIZE: 120%; COLOR: red">Adding a Static Background to a Cleared Frame Animation 
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- C!bunny.c!C --> <a href="bunny.htm">bunny.c</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!bunny_grass.gif!I --> <a href="bunny_grass.htm">Background Image</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!bunny_anim.gif!I --> <a href="bunny_anim.htm">Animation</a>
      	<br>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#000000">&bull;</FONT>&nbsp;<!-- I!bunny_bgnd.gif!I --> <a href="bunny_bgnd.htm">Output Image</a>
      </p>
           
      <br>
   </td>
</tr>

  <tr>
  <td >&nbsp;</td></tr></table></p>
      	

<p>&nbsp;</p>
<p>&nbsp;</p>
<p align="center">If you have any comments, send them to: <img src="elsup_hotmail_24.gif" border=0></p>
<p align="center">or send me a private message on the ImageMagick Forum</p>
<p>&nbsp;</p>
<p align="center"><font size="2"><!-- <a href="http://www.solutionsoft.com/w2w.htm" target="_top"><img height="2" alt="word to html converter" hspace="0" src="b.gif" width="2" border="0" ></a>&nbsp;
<a href="http://www.solutionsoft.com/htmlhelp.htm" target="_top"><img height="2" alt="html help workshop" hspace="0" src="b.gif" width="2" border="0" ></a>
-->
</p>  

</body>
</html>
